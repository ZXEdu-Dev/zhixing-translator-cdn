(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4409)}])},9783:function(e,t){"use strict";var n,l;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{PrefetchKind:function(){return n},ACTION_REFRESH:function(){return r},ACTION_NAVIGATE:function(){return s},ACTION_RESTORE:function(){return o},ACTION_SERVER_PATCH:function(){return a},ACTION_PREFETCH:function(){return c},ACTION_FAST_REFRESH:function(){return i},ACTION_SERVER_ACTION:function(){return u}});let r="refresh",s="navigate",o="restore",a="server-patch",c="prefetch",i="fast-refresh",u="server-action";(l=n||(n={})).AUTO="auto",l.FULL="full",l.TEMPORARY="temporary",("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},358:function(e,t,n){"use strict";function l(e,t,n,l){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return l}}),n(4005),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2994:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return b}});let l=n(8754),r=l._(n(7294)),s=n(6722),o=n(4812),a=n(7822),c=n(9938),i=n(5017),u=n(5734),f=n(8503),d=n(7549),p=n(358),_=n(1417),h=n(9783),y=new Set;function x(e,t,n,l,r,s){if(!s&&!(0,o.isLocalURL)(t))return;if(!l.bypassPrefetchedCheck){let r=void 0!==l.locale?l.locale:"locale"in e?e.locale:void 0,s=t+"%"+n+"%"+r;if(y.has(s))return;y.add(s)}let a=s?e.prefetch(t,r):e.prefetch(t,n,l);Promise.resolve(a).catch(e=>{})}function v(e){return"string"==typeof e?e:(0,a.formatUrl)(e)}let j=r.default.forwardRef(function(e,t){let n,l;let{href:a,as:y,children:j,prefetch:b=null,passHref:g,replace:m,shallow:w,scroll:C,locale:O,onClick:P,onMouseEnter:E,onTouchStart:T,legacyBehavior:N=!1,...k}=e;n=j,N&&("string"==typeof n||"number"==typeof n)&&(n=r.default.createElement("a",null,n));let M=r.default.useContext(u.RouterContext),S=r.default.useContext(f.AppRouterContext),A=null!=M?M:S,R=!M,I=!1!==b,L=null===b?h.PrefetchKind.AUTO:h.PrefetchKind.FULL,{href:Z,as:z}=r.default.useMemo(()=>{if(!M){let e=v(a);return{href:e,as:y?v(y):e}}let[e,t]=(0,s.resolveHref)(M,a,!0);return{href:e,as:y?(0,s.resolveHref)(M,y):t||e}},[M,a,y]),H=r.default.useRef(Z),F=r.default.useRef(z);N&&(l=r.default.Children.only(n));let U=N?l&&"object"==typeof l&&l.ref:t,[V,K,D]=(0,d.useIntersection)({rootMargin:"200px"}),X=r.default.useCallback(e=>{(F.current!==z||H.current!==Z)&&(D(),F.current=z,H.current=Z),V(e),U&&("function"==typeof U?U(e):"object"==typeof U&&(U.current=e))},[z,U,Z,D,V]);r.default.useEffect(()=>{A&&K&&I&&x(A,Z,z,{locale:O},{kind:L},R)},[z,Z,K,O,I,null==M?void 0:M.locale,A,R,L]);let Y={ref:X,onClick(e){N||"function"!=typeof P||P(e),N&&l.props&&"function"==typeof l.props.onClick&&l.props.onClick(e),A&&!e.defaultPrevented&&function(e,t,n,l,s,a,c,i,u,f){let{nodeName:d}=e.currentTarget,p="A"===d.toUpperCase();if(p&&(function(e){let t=e.currentTarget,n=t.getAttribute("target");return n&&"_self"!==n||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!u&&!(0,o.isLocalURL)(n)))return;e.preventDefault();let _=()=>{let e=null==c||c;"beforePopState"in t?t[s?"replace":"push"](n,l,{shallow:a,locale:i,scroll:e}):t[s?"replace":"push"](l||n,{forceOptimisticNavigation:!f,scroll:e})};u?r.default.startTransition(_):_()}(e,A,Z,z,m,w,C,O,R,I)},onMouseEnter(e){N||"function"!=typeof E||E(e),N&&l.props&&"function"==typeof l.props.onMouseEnter&&l.props.onMouseEnter(e),A&&(I||!R)&&x(A,Z,z,{locale:O,priority:!0,bypassPrefetchedCheck:!0},{kind:L},R)},onTouchStart(e){N||"function"!=typeof T||T(e),N&&l.props&&"function"==typeof l.props.onTouchStart&&l.props.onTouchStart(e),A&&(I||!R)&&x(A,Z,z,{locale:O,priority:!0,bypassPrefetchedCheck:!0},{kind:L},R)}};if((0,c.isAbsoluteUrl)(z))Y.href=z;else if(!N||g||"a"===l.type&&!("href"in l.props)){let e=void 0!==O?O:null==M?void 0:M.locale,t=(null==M?void 0:M.isLocaleDomain)&&(0,p.getDomainLocale)(z,e,null==M?void 0:M.locales,null==M?void 0:M.domainLocales);Y.href=t||(0,_.addBasePath)((0,i.addLocale)(z,e,null==M?void 0:M.defaultLocale))}return N?r.default.cloneElement(l,Y):r.default.createElement("a",{...k,...Y},n)}),b=j;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7549:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return c}});let l=n(7294),r=n(517),s="function"==typeof IntersectionObserver,o=new Map,a=[];function c(e){let{rootRef:t,rootMargin:n,disabled:c}=e,i=c||!s,[u,f]=(0,l.useState)(!1),d=(0,l.useRef)(null),p=(0,l.useCallback)(e=>{d.current=e},[]);(0,l.useEffect)(()=>{if(s){if(i||u)return;let e=d.current;if(e&&e.tagName){let l=function(e,t,n){let{id:l,observer:r,elements:s}=function(e){let t;let n={root:e.root||null,margin:e.rootMargin||""},l=a.find(e=>e.root===n.root&&e.margin===n.margin);if(l&&(t=o.get(l)))return t;let r=new Map,s=new IntersectionObserver(e=>{e.forEach(e=>{let t=r.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)})},e);return t={id:n,observer:s,elements:r},a.push(n),o.set(n,t),t}(n);return s.set(e,t),r.observe(e),function(){if(s.delete(e),r.unobserve(e),0===s.size){r.disconnect(),o.delete(l);let e=a.findIndex(e=>e.root===l.root&&e.margin===l.margin);e>-1&&a.splice(e,1)}}}(e,e=>e&&f(e),{root:null==t?void 0:t.current,rootMargin:n});return l}}else if(!u){let e=(0,r.requestIdleCallback)(()=>f(!0));return()=>(0,r.cancelIdleCallback)(e)}},[i,n,t,u,d.current]);let _=(0,l.useCallback)(()=>{f(!1)},[]);return[p,u,_]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4409:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var l=n(5893),r=n(5252),s=n.n(r),o=n(3128),a=n(5675),c=n.n(a),i=n(9214),u=n(9693),f=n(34),d=n(9646),p=n(7294),_=n(1664),h=n.n(_);function y(){let[e,t]=(0,p.useState)(""),[n,r]=(0,p.useState)("en"),[a,_]=(0,p.useState)("zh"),[y,x]=(0,p.useState)({source:n,target:a,sourceText:e});(0,p.useEffect)(()=>{let e=localStorage.getItem("sourceText");e&&t(e)},[]),(0,p.useEffect)(()=>{localStorage.setItem("sourceText",e)},[e]);let v=(0,p.useCallback)(()=>{x({source:n,target:a,sourceText:e})},[n,a,e]),j=(0,p.useCallback)(e=>"en"===e?"英文":"中文",[]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("main",{className:s().main,children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"".concat(s().row," ").concat(s().baseline," ").concat(s()["justify-space-between"]),children:(0,l.jsx)(i.Z,{h1:!0,children:"聚合翻译"})}),(0,l.jsx)(u.Z,{}),(0,l.jsx)("div",{className:s().col,children:(0,l.jsx)(f.Z,{placeholder:"在这里输入原文…",value:e,minRows:5,onFocus:e=>{e.target.select()},onChange:e=>{t(e.target.value)}})}),(0,l.jsx)(u.Z,{}),(0,l.jsxs)("div",{className:"".concat(s().row," ").concat(s()["justify-space-between"]),children:[(0,l.jsxs)("div",{className:"".concat(s().row," ").concat(s().center),children:[(0,l.jsx)(d.ZP,{flat:!0,color:"primary",auto:!0,children:j(n)}),(0,l.jsx)(d.ZP,{light:!0,auto:!0,onPress:()=>{r(a),_(n)},className:s().exchange,icon:(0,l.jsx)(c(),{src:"/exchange.svg",alt:"切换",width:20,height:20})}),(0,l.jsx)(d.ZP,{flat:!0,color:"primary",auto:!0,children:j(a)})]}),(0,l.jsx)(d.ZP,{onPress:v,children:"翻译"})]}),(0,l.jsx)(u.Z,{y:3}),(0,l.jsx)(o.default,{...y,id:"google",name:"Google"}),(0,l.jsx)(u.Z,{y:2}),(0,l.jsx)(o.default,{...y,id:"deepl",name:"DeepL"}),(0,l.jsx)(u.Z,{y:2}),(0,l.jsx)(o.default,{...y,id:"tencent",name:"腾讯"}),(0,l.jsx)(u.Z,{y:2}),(0,l.jsx)(o.default,{...y,id:"baidu",name:"百度"})]}),(0,l.jsx)(u.Z,{y:5}),(0,l.jsx)(h(),{target:"_blank",href:"https://team.zhixing.co",children:(0,l.jsxs)("div",{className:s().copyright,children:["\xa9 ",new Date().getFullYear()," 知行团队"]})})]})})}},3128:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var l=n(5893),r=n(7501),s=n(9214),o=n(9693),a=n(4855),c=n(5252),i=n.n(c),u=n(7294),f=n(6154),d=n(3454);let p=d.env.API_HOST?d.env.API_HOST:"https://".concat("api.zhixing.co","/translator-service");function _(e){let{sourceText:t,source:n,target:c,id:d,name:_}=e,[h,y]=(0,u.useState)(""),[x,v]=(0,u.useState)(0),[j,b]=(0,u.useState)(!1),g=(0,u.useCallback)(async(e,t,n)=>{v(3);try{let l=await f.Z.post("".concat(p,"/").concat(d),{source:e,target:t,sourceText:n});0===l.data.code?(v(1),y(l.data.data.targetText)):v(2)}catch(e){v(2)}},[]);(0,u.useEffect)(()=>{t&&n&&c&&g(n,c,t)},[t,n,c]);let m=(0,u.useCallback)(()=>{switch(x){case 0:return(0,l.jsx)("div",{className:"".concat(i()["text-center"]," ").concat(i().translated),children:"暂未数据"});case 3:return(0,l.jsx)("div",{className:"".concat(i()["text-center"]," ").concat(i().translated),children:(0,l.jsx)(r.ZP,{size:"sm",type:"points"})});case 1:return(0,l.jsxs)("div",{className:"".concat(i().translated),children:[h,(0,l.jsx)(a.CopyToClipboard,{text:h,onCopy:()=>{b(!0),setTimeout(()=>{b(!1)},3e3)},children:(0,l.jsxs)("div",{className:i().copy,children:[(0,l.jsx)("div",{className:"".concat(i().state," ").concat(j?i().invisible:i().visible),children:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#333333";return(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"15px",viewBox:"0 0 24 24",width:"15px",fill:e,children:[(0,l.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,l.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})]})}()}),(0,l.jsx)("div",{className:"".concat(i().ok," ").concat(i().state," ").concat(j?i().visible:i().invisible),children:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#333333";return(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"15px",viewBox:"0 0 24 24",width:"15px",fill:e,children:[(0,l.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,l.jsx)("path",{d:"M9 16.2l-3.5-3.5c-.39-.39-1.01-.39-1.4 0-.39.39-.39 1.01 0 1.4l4.19 4.19c.39.39 1.02.39 1.41 0L20.3 7.7c.39-.39.39-1.01 0-1.4-.39-.39-1.01-.39-1.4 0L9 16.2z"})]})}()})]})})]});case 2:return(0,l.jsx)("div",{className:"".concat(i()["text-center"]," ").concat(i().translated),children:"出错了"})}},[x,h,j]);return(0,l.jsxs)("div",{className:"".concat(i().col),children:[(0,l.jsx)(s.Z,{size:"0.9rem",children:_}),(0,l.jsx)(o.Z,{}),m()]})}},5252:function(e){e.exports={main:"styles_main__dh_Fa",row:"styles_row__m8mJ9",col:"styles_col__TI51J","flex-start":"styles_flex-start__zA1rU",center:"styles_center___g2CY","justify-space-between":"styles_justify-space-between__VYXEh","justify-flex-end":"styles_justify-flex-end__wNX7r",baseline:"styles_baseline___GgLo","text-center":"styles_text-center__zTnqw",translated:"styles_translated__hW2gf",exchange:"styles_exchange__e8Cb9",back:"styles_back__Sl9pq","input-box":"styles_input-box__orK_p",copy:"styles_copy__yc7mP",visible:"styles_visible__ulZAS",invisible:"styles_invisible__DdO_p",state:"styles_state__s_dft",ok:"styles_ok__HwgO5",copyright:"styles_copyright__9hbmy"}},1664:function(e,t,n){e.exports=n(2994)}},function(e){e.O(0,[249,747,518,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);